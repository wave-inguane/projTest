<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Login</title>
    <link href="css/styles.css" type="text/css" rel="stylesheet" />
    <link href="css/login.css" type="text/css" rel="stylesheet" />
    <!-- COPY AND PASTE THE WEB SETUP SNIPPET HERE: -->
    <!-- COPY AND PASTE THE WEB SETUP SNIPPET HERE: -->
    <script src="https://www.gstatic.com/firebasejs/3.5.2/firebase.js"></script>
    <script>
        // Initialize Firebase
        var config = {
            apiKey: "AIzaSyDs8pLSj9ZIqrkm0NAPV3cj58vPBghHFg8",
            authDomain: "dbgamespider.firebaseapp.com",
            databaseURL: "https://dbgamespider.firebaseio.com",
            storageBucket: "dbgamespider.appspot.com",
            messagingSenderId: "315500031833"
        };
        firebase.initializeApp(config);
    </script>
    <!-- END OF WEB SNIPPET -->
    <!-- END OF WEB SNIPPET -->
    <link href="css/style.css" rel="stylesheet" type="text/css" media="screen" />
    <script src="https://www.gstatic.com/firebasejs/ui/live/0.5/firebase-ui-auth.js"></script>
    <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/live/0.5/firebase-ui-auth.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">

</head>
<body>
<div id="header">

    <img src="http://pngimg.com/upload/spider_PNG45.png"
         alt="Home Page" class="align-left medium" />

    <div id="nav">
        <ul id="put-nav-right-top-conner">
            <li id="username_display"></li>
            <li><a href="index.html">Home</a></li>
            <li><a href="login.html">Login</a></li>
            <li><a href="register.html">Register</a></li>
            <li><a href="about.html">About</a></li>
        </ul>
    </div>
</div>


    <div id="content">
        <div id="feature">
            <h2><a target="_parent" href="index.html">Game Spider</a></h2>
        </div>

        <div class="article column1">
            <p><h1>User Login</h1></p>

            <div>
                <form action="">
             
                    <p><label>Email:  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input id="email" type="text" placeholder="johndoe@gmail.com" /></label></p>
                    <p><label>Password: <input id="password" type="password" minlength="5" placeholder="pass" /></label></p>
                    <button type="button" id="submit" data-page="login">Submit</button>
					<button type="button" id="change"><a href="reset_password.html" style="color:black; text-decoration:none">Forgot Password</a></button>
                    <button type="button" id="clear_login_form">Clear</button>
                    <!-- <p id="login">  </p> --> 
                </form>
            </div>
			<div id="login_results">
			       <!-- RESULTS from logging in via REACT -->
			</div>
        </div>
        <div id="container">
            <!--<h3>FirebaseUI Demo</h3>-->
            <div id="loading"></div>
            <div id="loaded" class="hidden">
                <div id="main">
                    <div id="user-signed-in" class="hidden">
                        <div id="user-info">
                            <div id="photo-container">
                                <img id="photo"></img>
                            </div>
                            <div id="name"></div>
                            <div id="emailx"></div>
                            <div class="clearfix"></div>
                        </div>
                        <p>
                            <button id="sign-out">Sign Out</button>
                            <button id="delete-account">Delete account</button>
                        </p>
                    </div>
                    <div id="user-signed-out" class="hidden">
                        <!--<h4>You are signed out.</h4> -->
                        <p></p>
                        <div id="firebaseui-spa">
                            <!-- <h5>Single Page Application mode:</h5> -->
                            <div id="firebaseui-container"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <script src="scripts/oAuth.js"></script>
        <!-- end oAuth -->
</div>
<div  class="row1"id="footer">
    <p>&copy; Copyright 2016 Tom, Avelino and Chris</p> 
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script src="https://fb.me/react-15.0.0.js"></script>
<script src="https://fb.me/react-dom-15.0.0.js"></script>
<script src="https://fb.me/react-with-addons-0.14.0.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.34/browser.min.js"></script>
<script type="text/javascript" src="scripts/login.js"></script>
<!-- <link rel="stylesheet" type="text/css" href="scripts/jasmine/lib/jasmine-2.5.2/jasmine.css"> 
<script type="text/javascript" src="scripts/jasmine/lib/jasmine-2.5.2/jasmine.js"></script>
<script type="text/javascript" src="scripts/jasmine/lib/jasmine-2.5.2/jasmine-html.js"></script>
<script type="text/javascript" src="scripts/jasmine/lib/jasmine-2.5.2/boot.js"></script>  -->

<script type="text/babel">

class Login extends React.Component{
  constructor() {
      super();
      this.state = {login: ""};
  }
  componentWillMount(){
	ReactLoginThis = this;
  }
  render(){
      console.log(this.state.login);
	  var returnVal;
	  if(this.state.login == "fail")
	      returnVal = "Incorrect Username or Password";
	  else if(this.state.login == "pass")
          {
	      returnVal = "Successfully Logged In";
          }
	  else
	      returnVal = "";
      return <div>
	             <p>{returnVal}</p>
		     </div>;
  }
};

ReactDOM.render(   
  <Login />,
  document.getElementById('login_results')
);
/*

//  --  JASMINE --
describe('Login', function() {
                var TestUtils = React.addons.TestUtils;
                var component, element, renderedDOM;
				
                beforeEach(function(){
                    element = React.createElement(Login);
                    component = TestUtils.renderIntoDocument(element);
					//spyOn(ClassName.prototype, "get_bestbuy_prices");
                });
                it("Has correct Buttons", function(){
                    let buttons =  $("button");
					console.log(buttons[0]);     //previousButton 
					console.log(buttons[1]);     //nextButton
                    expect(buttons[0]).not.toBeUndefined();
                    expect(buttons[0].innerHTML).toBe("Submit");      //submit
					expect(buttons[1]).not.toBeUndefined();
					console.log(buttons[1].innerHTML);
					//expect(buttons[1].innerHTML).toBe("<a href="reset_password.html" style="color:black; text-decoration:none">Forgot Password</a>");  //forgot pass
					expect(buttons[2]).not.toBeUndefined();
					expect(buttons[2].innerHTML).toBe("Clear");   //clear
                });
                it("Has an initial empty login", function(){
                    expect(component.state.login).toEqual("");
                });
			
});


describe("Button Functionality", function(){
    var TestUtils = React.addons.TestUtils;
    var component, element, renderedDOM;
	   element = React.createElement(Login);
       component = TestUtils.renderIntoDocument(element);    
	   
	beforeEach(function(){

	   let buttons =  $("button");
	   let submitButton = buttons[0];

	   
       let textfields = $("input");
	   textfields[0].value = "tommywil@live.com";
	   textfields[1].value = "chat";
	   
  	 
        
		spyOn(usersRef, "once").and.callFake(function(param)
		{
		    console.log("spying");
			component.setState({login: "pass"});           //This happens on successfully database calls
		});

        submitButton.click();	

    });
 
    it("Submit Causes fireBase push to be called if user not in database", function(){  
       expect(usersRef.once).toHaveBeenCalled();
    });
	it("Has a changed state after successfully registering", function(){
		console.log(ReactLoginThis.state.login)                                  //THIS SHOULD BE "PASS"
        expect(component.state.login).toEqual("pass");
    });
	it("Clear button clears the form", function(){
	    let textfields = $("input");
		let buttons = $("button");
		let clearButton = buttons[2];
		
		clearButton.click();
		
		expect(textfields[0].value).toBe("");
		expect(textfields[1].value).toBe("");
		
	});
});	
*/
			
</script>

</body>
</html>
